<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile2</title>
    <link rel="stylesheet" href="/ex/profile2.css">
</head>
<body>
    <main>
        <h1>My Profile</h1>
        <br>
            <section>
                <div>
                <img src="/ex/images/Frame 6.png" alt="Profile Image" class="profileImg" loading="lazy">
                <br>
                <h2>₊♡₊˚ 🍒・₊✧Cherry₊♡₊˚ 🍒・₊✧</h2>
                <br>
                <p>Hello. I think I need to write in English, so I'm turning on the Papago. What do you all have for lunch? Please recommend lunch.</p>
                <div class="contact">
                    <h4>Contact Me</h4>
                    <a href="https://www.youtube.com/watch?v=N6_fdpFR6pE&t=220s&pp=ygUW65a16rCcIOyXsOyWtOq5jeuRkOq4sA%3D%3D">SalmonMukbang</a>
                    <a href="tel:+821012345678">+821012345678</a>
                </div>
            </section>
            <form action="/" method="POST">
                <span>
                    <label for="name">what's your name?</label>
                    <input type="text" id="name" name="name" placeholder="name" required>
                </span>
                <span>
                    <label for="email">what's your email?</label>
                    <input type="email" id="email" name="email" placeholder="email address" required>
                </span>
                <span>
                <label for="message">Message</label>
                <textarea id="message" name="message" placeholder="Please write what you want to say to me"required></textarea>
                </span>
                <button type="button" id="sendEmail">Submit</button>
            </form>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script>
    const form = document.querySelector('form');
    const submitButton = document.querySelector('#sendEmail');

    const sendEmail = (e) => {

      emailjs
        .sendForm('service_aety2k9', 'template_gbt6oae', form, {
          publicKey: '2So_s_Zb_fjD78n9M',
        })
        .then(
          () => {
            alert(`${form.name.value}님, 메일 전송에 성공했습니다 :)`);
          },
          (error) => {
            alert(`${form.name.value}님, 메일 전송에 실패했습니다 :(`);
          },
        );
    };

    // 버튼 클릭 시 sendEmail 함수 호출
    submitButton.addEventListener('click', sendEmail);
  </script>
</body>
</html>